<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link href="./dist/output.css" rel="stylesheet" />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap");

      * {
        font-family: "Poppins", sans-serif;
        box-sizing: border-box;
      }
      
    </style>
  </head>
  <body >
   
    <main>
      <section class="h-screen flex justify-center items-center text-[#0bbbcc] ">
       <div class="max-w-md border px-5 py-5 rounded-lg shadow-2xl ">
        <h1 class="text-[#0bbbcc]   mb-5 font-semibold text-lg ">
          CURRENCY CONVERTER
        </h1>
        <div class="px-5">
          <div class="flex gap-2 h-11">
            <input id="baseInput" class="text-right  basis-2/3 px-2 rounded-md outline-none px-3  w-full inline-block border border-2  border-primary placeholder-primary" type="number" placeholder="Amount">

            <select class="text-sm outline-none  basis-1/3 rounded-md inline-block border border-2 px-3 py-1 border-[#0bbbcc] " name="baseCurrencies" id="baseCurrency">
              <option  value="usd">USD</option>
              <option value="mmk">MMK</option>
              <option value="sgd">SGD</option>
              <option value="eur">EUR</option>
              <option value="jpy">JPY</option>
            </select>
          
          </div>
          <p class="text-center my-3 font-semibold text-xl">to</p>

          <div class="flex gap-2  h-11 my-3">
            <div id="resultAmount" class="rounded-md border border-2 border-primary basis-2/3 leading-10 text-right px-3">
              
            </div>
            <select class="text-sm basis-1/3 outline-none w-full text-center  rounded-md inline-block border border-2 px-3 py-1 border-primary placeholder-[primary]" name="baseCurrencies" id="targetCurrency">
              <option value="usd">USD</option>
              <option value="mmk">MMK</option>
              <option value="sgd">SGD</option>
              <option value="eur">EUR</option>
              <option value="jpy">JPY</option>
            </select>
          
          </div>


          
          
          <div class="my-3  text-white">
            <button id="save" class="w-full hidden bg-green-400 !text-white py-2 rounded-md text-sm font-semibold">add to lists</button>
          </div>

          <ul class="lists">
           
           
          </ul>
          </div>

        </div>
       </div>
      </section>
    </main>
    <script>

      let rates = {
        eur : 2212.5,
        sgd : 1530.8,
        jpy :( 1402.4 / 100),
        usd : 2100
      }

      const {eur,sgd,jpy,usd} = rates;

      

        let baseSelection = document.getElementById("baseCurrency");
        let targetSelection = document.getElementById("targetCurrency");
        let baseInput = document.getElementById("baseInput");
        let saveBtn = document.getElementById("save");
        let delBtn = document.getElementById("del");
        let resultAmount = document.getElementById("resultAmount");
        let lists = document.querySelector('.lists')

        function calCurrency () {
          if (baseInput.value) {
         
         let baseVal = baseInput.valueAsNumber
         let result ;
           if (baseSelection.value ==="usd" && targetSelection.value === "usd" || baseSelection.value ==="mmk" && targetSelection.value === "mmk" || baseSelection.value ==="eur" && targetSelection.value === "eur" || baseSelection.value ==="sgd" && targetSelection.value === "sgd" || baseSelection.value ==="jpy" && targetSelection.value === "jpy") {
           result = baseVal * 1;
           }else if(baseSelection.value ==="usd" && targetSelection.value === "mmk") {
               result = baseVal * usd
           } else if (baseSelection.value ==="usd" && targetSelection.value === "sgd") {
              result = (baseVal * usd) / sgd;
           } else if (baseSelection.value ==="usd" && targetSelection.value === "jpy") {
             result = (baseVal * usd) / jpy;
           } else if (baseSelection.value ==="usd" && targetSelection.value === "eur") {
             result = (baseVal * usd) / eur;
           } else if (baseSelection.value ==="mmk" && targetSelection.value === "usd") {
             result = baseVal / usd;
           }  else if (baseSelection.value ==="mmk" && targetSelection.value === "eur") {
             result = baseVal / eur;
           }  else if (baseSelection.value ==="mmk" && targetSelection.value === "sgd") {
             result = baseVal / sgd;
           }  else if (baseSelection.value ==="mmk" && targetSelection.value === "jpy") {
             result = baseVal / jpy;
           }   else if (baseSelection.value ==="sgd" && targetSelection.value === "usd") {
              result = (baseVal * sgd) / usd;
           }  else if (baseSelection.value ==="sgd" && targetSelection.value === "mmk") {
              result = (baseVal / sgd) ;
           }  else if (baseSelection.value ==="sgd" && targetSelection.value === "eur") {
              result = (baseVal * sgd) / eur;
           }  else if (baseSelection.value ==="sgd" && targetSelection.value === "jpy") {
              result = (baseVal * sgd) / jpy;
           }  else if (baseSelection.value ==="eur" && targetSelection.value === "usd") {
              result = (baseVal * eur) / usd;
           } else if (baseSelection.value ==="eur" && targetSelection.value === "jpy") {
              result = (baseVal * eur) / jpy;
           } else if (baseSelection.value ==="eur" && targetSelection.value === "sgd") {
              result = (baseVal * eur) / sgd;
           } else if (baseSelection.value ==="eur" && targetSelection.value === "mmk") {
              result = (baseVal * eur) ;
           } else if (baseSelection.value ==="jpy" && targetSelection.value === "mmk") {
              result = (baseVal * jpy) ;
           }  else if (baseSelection.value ==="jpy" && targetSelection.value === "eur") {
              result = (baseVal * jpy) / eur; 
           } else if (baseSelection.value ==="jpy" && targetSelection.value === "sgd") {
              result = (baseVal * jpy) / sgd; 
           } else if (baseSelection.value ==="jpy" && targetSelection.value === "usd") {
              result = (baseVal * jpy) / usd; 
           } 


           resultAmount.innerText = result.toFixed(2)

         

        } else {
         resultAmount.innerText = ''
        }
        }
       
        baseInput.addEventListener('keyup',()=> {
        
          calCurrency()

         
        if (resultAmount.innerText.length > 0 ) {
          saveBtn.classList.remove('hidden')
        } else {
          saveBtn.classList.add('hidden')
        }


        })

        baseSelection.addEventListener('change',()=>{
          calCurrency()
        })

        targetSelection.addEventListener('change', ()=>{
          calCurrency()
        })

        
        //this variable is for updating the serial number of saved lists

        let index = 1;

        // save to list function

        let saveToList = () => {
          let baseVal = baseInput.valueAsNumber;
          let resultVal = parseInt(resultAmount.innerText);
          let baseCurrency = baseSelection.value.toUpperCase();
          let targetCurrency = targetSelection.value.toUpperCase();
         

          lists.innerHTML += `
         <li class="text-left px-2  my-2 py-2 border-b rounded-full border-b-primary"> <span class="mr-3 inline-block pl-3">${index}.</span> ${baseVal}  ${baseCurrency} = ${resultVal}
              ${targetCurrency}</li>
           `
           index ++
        }
        
        saveBtn.addEventListener('click',()=>{
          if (baseInput.value) {
            saveToList()
          
            
          } else {
            return
          }
        })



    </script>
  </body>
</html>
